<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>狗娃子的博客</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.wxg.world/"/>
  <updated>2019-07-08T23:57:55.863Z</updated>
  <id>http://www.wxg.world/</id>
  
  <author>
    <name>Doguy</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>我的vim配置(持续更新</title>
    <link href="http://www.wxg.world/2019/07/08/%E6%88%91%E7%9A%84vim%E9%85%8D%E7%BD%AE-%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0/"/>
    <id>http://www.wxg.world/2019/07/08/我的vim配置-持续更新/</id>
    <published>2019-07-08T15:12:15.000Z</published>
    <updated>2019-07-08T23:57:55.863Z</updated>
    
    <content type="html"><![CDATA[<h1 id="我的vim配置"><a href="#我的vim配置" class="headerlink" title="我的vim配置"></a>我的vim配置</h1><a id="more"></a><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul><li><a href="#插件管理">插件管理</a></li><li><a href="#代码补全">代码补全</a></li><li><a href="#一键运行">一键运行</a></li></ul><h2 id="插件管理"><a href="#插件管理" class="headerlink" title="插件管理"></a>插件管理</h2><p>没啥可以说，肯定是<a href="https://github.com/junegunn/vim-plug" target="_blank" rel="noopener">vim-plug</a></p><h2 id="代码补全"><a href="#代码补全" class="headerlink" title="代码补全"></a>代码补全</h2><p><a href="https://github.com/ycm-core/YouCompleteMe" target="_blank" rel="noopener">YCM</a></p><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>配置主要参考<a href="https://www.zhihu.com/people/skywind3000/activities" target="_blank" rel="noopener">韦易笑大佬</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">let g:ycm_add_preview_to_completeopt = 0</span><br><span class="line">let g:ycm_show_diagnostics_ui = 0</span><br><span class="line">let g:ycm_server_log_level = &apos;info&apos;</span><br><span class="line">let g:ycm_min_num_identifier_candidate_chars = 2</span><br><span class="line">let g:ycm_collect_identifiers_from_comments_and_strings = 1</span><br><span class="line">let g:ycm_complete_in_strings=1</span><br><span class="line">let g:ycm_key_invoke_completion = &apos;&lt;c-z&gt;&apos;</span><br><span class="line">set completeopt=menu,menuone</span><br><span class="line"></span><br><span class="line">noremap &lt;c-z&gt; &lt;NOP&gt;</span><br><span class="line"></span><br><span class="line">let g:ycm_semantic_triggers =  &#123;</span><br><span class="line">            \ &apos;c,cpp,python,java,go,erlang,perl&apos;: [&apos;re!\w&#123;2&#125;&apos;],</span><br><span class="line">            \ &apos;cs,lua,javascript&apos;: [&apos;re!\w&#123;2&#125;&apos;],</span><br><span class="line">            \ </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let g:ycm_filetype_whitelist = &#123;</span><br><span class="line">            \ &quot;c&quot;:1,</span><br><span class="line">            \ &quot;cpp&quot;:1,</span><br><span class="line">            \ &quot;objc&quot;:1,</span><br><span class="line">            \ &quot;sh&quot;:1,</span><br><span class="line">            \ &quot;zsh&quot;:1,</span><br><span class="line">            \ &quot;zimbu&quot;:1,</span><br><span class="line">            \ &quot;go&quot;:1,</span><br><span class="line">            \ &quot;py&quot;:1</span><br><span class="line">            \ </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><ul><li>编译的时候遇到这个报错<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CMake Error: The source directory</span><br><span class="line"> &quot;~/.vim/plugged/YouCompleteMe/third_party/ycmd/third_party/cregex&quot; does not appear to contain CMakeLists.txt.</span><br></pre></td></tr></table></figure></li></ul><p>参考这个<a href="https://github.com/ycm-core/YouCompleteMe/issues/3232" target="_blank" rel="noopener">issue</a><br>解决办法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ~/.vim/plugged/YouCompleteMe</span><br><span class="line">rm -rf third_party/ycmd/third_party/cregex</span><br><span class="line">git submodule update --init --recursive</span><br></pre></td></tr></table></figure></p><h2 id="一键运行"><a href="#一键运行" class="headerlink" title="一键运行"></a>一键运行</h2><p><a href="https://github.com/skywind3000/asyncrun.vim" target="_blank" rel="noopener">asyncrun</a>配合vimscript<br>我写了两个函数分别来实现按文件类型一键编译和运行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">let g:asyncrun_open = 15</span><br><span class="line">let g:asyncrun_bell = 1</span><br><span class="line">nnoremap &lt;F10&gt; :call asyncrun#quickfix_toggle(20)&lt;cr&gt;</span><br><span class="line">nnoremap &lt;silent&gt; &lt;F9&gt; :call Compile()&lt;cr&gt;</span><br><span class="line">nnoremap &lt;silent&gt; &lt;F5&gt; :call Run()&lt;cr&gt;</span><br><span class="line">&quot;一键编译</span><br><span class="line">func! Compile()</span><br><span class="line">    exec &quot;w&quot;</span><br><span class="line">    if &amp;filetype == &apos;c&apos;</span><br><span class="line">        exec &quot;AsyncRun gcc % -o %&lt;&quot;</span><br><span class="line">    elseif &amp;filetype == &apos;cpp&apos;</span><br><span class="line">        exec &quot;AsyncRun g++ % -o %&lt;&quot;</span><br><span class="line">    endif</span><br><span class="line">endfunc</span><br><span class="line"></span><br><span class="line">&quot;一键运行</span><br><span class="line">func! Run()</span><br><span class="line">    exec &quot;w&quot;</span><br><span class="line">    if &amp;filetype == &apos;python&apos;</span><br><span class="line">        exec &quot;AsyncRun -raw python3 %&quot;</span><br><span class="line">    elseif &amp;filetype == &apos;go&apos;</span><br><span class="line">        exec &quot;AsyncRun -raw go run %&quot;</span><br><span class="line">    else</span><br><span class="line">        exec &quot;AsyncRun ./%&lt;&quot;</span><br><span class="line">    endif</span><br><span class="line">endfunc</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;我的vim配置&quot;&gt;&lt;a href=&quot;#我的vim配置&quot; class=&quot;headerlink&quot; title=&quot;我的vim配置&quot;&gt;&lt;/a&gt;我的vim配置&lt;/h1&gt;
    
    </summary>
    
      <category term="技术闲记" scheme="http://www.wxg.world/categories/%E6%8A%80%E6%9C%AF%E9%97%B2%E8%AE%B0/"/>
    
    
      <category term="vim" scheme="http://www.wxg.world/tags/vim/"/>
    
  </entry>
  
</feed>
